(function(){$(function(){function f(t){abp.message.confirm(t.name+"将会被删除。","您确定吗？",function(i){i&&n.delete({id:t.id}).done(function(){u();abp.notify.success("删除成功。")})})}function u(){r.ajax.reload()}var n=abp.services.app.bank,t=new app.ModalManager({viewUrl:abp.appPath+"Payments/Banks/CreateOrEditModal",scriptUrl:abp.appPath+"view-resources/Areas/Payments/Views/Banks/_CreateOrEditModal.js",modalClass:"CreateOrEditBankModal"}),i,r;$("#CreateNewButton").click(function(){t.open()});abp.event.on("app.createOrEditBankModalSaved",function(){u()});i=$("#DataTable");r=i.DataTable({paging:!0,serverSide:!0,processing:!0,listAction:{ajaxFunction:n.getAll},columnDefs:[{targets:0,data:"name"},{targets:1,data:"bankCode"},{targets:2,data:"orderNumber"},{targets:3,data:null,orderable:!1,autoWidth:!1,defaultContent:"",rowAction:{text:'<i class="fa fa-cog"><\/i>操作<span class="caret"><\/span>',items:[{text:"修改",action:function(n){t.open({id:n.record.id})}},{text:"删除",action:function(n){f(n.record)}}]}}]})})})();